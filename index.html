<!doctype html>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />

    <title>jMeter-Workshop</title>

    <meta name="description" content="jMeter-Workshop" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="assets/framework/reveal.js/dist/reveal.css" />
    <link rel="stylesheet" href="assets/framework/reveal.js/css/theme/simple.css" />
    <link rel="shortcut icon" href="assets/css/theme/favicon.ico" />

    <link rel="stylesheet" href="assets/markdeck/styles/github-gist.css" />

    
            <link rel="stylesheet" href="themes/mytheme/css/slides.css" />
        
    <link rel="stylesheet" href="assets/markdeck/css/markdeck.revealjs.css" />
    <link rel="stylesheet" href="assets/css/slides.css" />

    <script>
        window.pdf_render = window.location.search.match(/render=pdf/gi) != null;
        if (window.pdf_render) {
            document.write('<link rel="stylesheet" href="assets/css/render-pdf.css" type="text/css">');
        }
    </script>

    <link href="assets/css/rerendering.css" rel="stylesheet"></link>

<link rel="stylesheet" href="themes/mytheme/css/slides.css" />

</head>
<body>


    <div class="rerendering-message"><h1>R E R E N D E R I N G</h1></div>
        <div class="markdeck-logo"><a href="https://github.com/arnehilmann/markdeck">powered by markdeck</a></div>
    
    <div class="header"></div>
    <div class="footer"></div>

    <div class="reveal markdeck">
        <div class="slides">

<section id="jmeter-workshop" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">jMeter Workshop</h1>
<figure>
<img src="assets/jmeter.jpg" style="width:20.0%;height:20.0%" alt="" /><figcaption>performance testing with jMeter</figcaption>
</figure>
</section>
<section id="jmeter-workshop-1" class="level1">
<h1>jMeter Workshop</h1>
<p>Agenda:</p>
<table>
<thead>
<tr class="header">
<th>Tag 1</th>
<th>Tag 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(3) jMeter Plugin-Manager</td>
<td>(3) Verteiltes Testen mit jMeter</td>
</tr>
<tr class="even">
<td>(3) Workload Design</td>
<td>(3) RMI</td>
</tr>
<tr class="odd">
<td>(2) Strukturierung von Testplänen</td>
<td>(2) Monitoring</td>
</tr>
<tr class="even">
<td>(2) Scripting</td>
<td>(1) Containerisierung</td>
</tr>
<tr class="odd">
<td>(2) Reporting</td>
<td>(1) CI/CD-Pipeline</td>
</tr>
<tr class="even">
<td>(1) Testdatenverwaltung</td>
<td>Klärung offener Punkte</td>
</tr>
<tr class="odd">
<td>(1) REST-APIs</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="jmeter-plugin-manager" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">jMeter Plugin-Manager</h1>
</section>
<section id="jmeter-plugin-manager-1" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><a href="https://jmeter-plugins.org/wiki/PluginsManager/">https://jmeter-plugins.org/wiki/PluginsManager/</a></p>
<p><img src="assets/pmgr_menu_item.png" /></p>
<p><strong>Installation:</strong></p>
<ul>
<li>lade <strong><a href="https://jmeter-plugins.org/get/">https://jmeter-plugins.org/get/</a></strong> herunter</li>
<li>kopiere <strong>jar</strong> in das jMeter-Verzeichnis <strong>lib/ext</strong></li>
</ul>
</section>
<section id="jmeter-plugin-manager-2" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Ausführung über die Kommandozeile:</strong></p>
<p><a href="https://jmeter-plugins.org/wiki/PluginsManagerAutomated/">https://jmeter-plugins.org/wiki/PluginsManagerAutomated/</a></p>
<p><code>PluginsManagerCMD &lt;command&gt; [&lt;params&gt;]</code></p>
<p>z.B.</p>
<p><code>PluginsManagerCMD install jpgc-fifo,jpgc-json=2.2</code></p>
</section>
<section id="jmeter-plugin-manager-3" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Falls man hinter einem Proxy ist:</strong></p>
<p><code>JVM_ARGS="-Dhttps.proxyHost=myproxy.com -Dhttps.proxyPort=8080 -Dhttp.proxyUser=john -Dhttp.proxyPass=***" PluginsManagerCMD status</code></p>
</section>
<section id="jmeter-plugin-manager-4" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Eigenes Plugin schreiben:</strong></p>
<p><a href="https://jmeter.apache.org/usermanual/jmeter_tutorial.html">https://jmeter.apache.org/usermanual/jmeter_tutorial.html</a></p>
<p><strong>Eigenes Repository hinzufügen:</strong></p>
<p>jMeter-Property setzen:</p>
<p><code>jpgc.repo.address=https://jmeter-plugins.org/repo/;http://my.intranet.site/plugins-repo.json</code></p>
<p>Das Repository-JSON muss folgendes Format erfüllen: <a href="https://jmeter-plugins.org/wiki/PluginRepositoryDescriptorFormat/">https://jmeter-plugins.org/wiki/PluginRepositoryDescriptorFormat/</a></p>
<p>Gute Anleitung: <a href="https://www.blazemeter.com/blog/how-to-create-a-local-repository-of-jmeter-plugins">https://www.blazemeter.com/blog/how-to-create-a-local-repository-of-jmeter-plugins</a></p>
</section>
<section id="jmeter-plugin-manager-5" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Nützliche Plugins:</strong></p>
<ul>
<li>Custom Thread Groups</li>
<li>JMXMon Sample Collector</li>
<li>jp@gc - PerfMon</li>
<li>jp@gc - Dummy Sampler</li>
<li>jp@gc - PlanCheck</li>
</ul>
<p>Weitere nützliche Plugins: <a href="https://www.flood.io/blog/jmeter-plugins-the-top-10-plugins-and-how-they-help"></a></p>
</section>
<section id="jmeter-plugin-manager-6" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Ultimate Thread Group</strong></p>
<figure>
<img src="assets/ultimate_thread_group1.png" style="width:40.0%;height:40.0%" alt="" /><figcaption><a href="https://jmeter-plugins.org/wiki/UltimateThreadGroup/">https://jmeter-plugins.org/wiki/UltimateThreadGroup/</a></figcaption>
</figure>
</section>
<section id="jmeter-plugin-manager-7" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Concurrency Thread Group</strong></p>
<figure>
<img src="assets/ConcurrencyThreadGroup.png" style="width:40.0%;height:40.0%" alt="" /><figcaption><a href="https://jmeter-plugins.org/wiki/ConcurrencyThreadGroup/">https://jmeter-plugins.org/wiki/ConcurrencyThreadGroup/</a></figcaption>
</figure>
</section>
<section id="jmeter-plugin-manager-8" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>jp@gc - PerfMon</strong></p>
<figure>
<img src="assets/servers_performance_monitoring.png" style="width:40.0%;height:40.0%" alt="" /><figcaption><a href="https://jmeter-plugins.org/wiki/PerfMon/">https://jmeter-plugins.org/wiki/PerfMon/</a></figcaption>
</figure>
</section>
<section id="jmeter-plugin-manager-9" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>jp@gc - Dummy Sampler</strong></p>
<figure>
<img src="assets/dummy_sampler.png" style="width:40.0%;height:40.0%" alt="" /><figcaption><a href="https://jmeter-plugins.org/wiki/DummySampler/">https://jmeter-plugins.org/wiki/DummySampler/</a></figcaption>
</figure>
</section>
<section id="jmeter-plugin-manager-10" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>jp@gc - PlanCheck</strong></p>
<p><a href="https://jmeter-plugins.org/wiki/TestPlanCheckTool/">https://jmeter-plugins.org/wiki/TestPlanCheckTool/</a></p>
<p>Usage:</p>
<p><code>jmeter/lib/ext/TestPlanCheck.sh --jmx MyTestPlan.jmx --stats --tree-dump</code></p>
</section>
<section id="jmeter-plugin-manager-11" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>JMXMon Sample Collector</strong></p>
<figure>
<img src="assets/jmxmon_samples_collector.png" style="width:40.0%;height:40.0%" alt="" /><figcaption><a href="https://jmeter-plugins.org/wiki/JMXMon/">https://jmeter-plugins.org/wiki/JMXMon/</a></figcaption>
</figure>
</section>
<section id="workload-design" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Workload Design</h1>
</section>
<section id="workload" class="level1">
<h1>Workload</h1>
<p>Definition:</p>
<blockquote>
<p>The amount of work a system has to perform in a given time. In the performance field, a workload usually refers to combined load placed on an application by the set of clients it services</p>
</blockquote>
</section>
<section id="performance-test-arten" class="level1">
<h1>Performance Test-Arten</h1>
<figure>
<img src="assets/performance-testing-types-1-300x284.png" alt="" /><figcaption>Performance Test-Arten</figcaption>
</figure>
</section>
<section id="performance-test-arten-1" class="level1">
<h1>Performance Test-Arten</h1>
<ul>
<li><p><strong>Load Testing:</strong> Modelliert die erwartete Benutzung</p></li>
<li><p><strong>Stress Testing:</strong> Bestimmung des Limits an Concurrent Usern bis Fehler auftreten</p></li>
<li><p><strong>Soak/Endurance Testing:</strong> Festgelegte Load die über einen definierten Zeitraum aufrecht erhalten wird</p></li>
<li><p><strong>Spike Testing:</strong> testen von schnellem Anstieg/Abfall der Load -&gt; z.B. Ticketverkauf</p></li>
<li><p><strong>Volume Testing:</strong> Testen ob Applikation mit einem bestimmten Datenvolumen klar kommt</p></li>
<li><p><strong>Scalability Testing:</strong> Testet die Fähigkeit einer Applikation hoch/runter zu skalieren</p></li>
</ul>
</section>
<section id="prinzipien" class="level1">
<h1>Prinzipien</h1>
<ul>
<li><p>Vorhersagbarkeit</p></li>
<li><p>Wiederholbarkeit</p></li>
<li><p>Skalierbarkeit</p></li>
</ul>
</section>
<section id="vorhersagbarkeit" class="level1">
<h1>Vorhersagbarkeit</h1>
<blockquote>
<p>Das Verhalten des Systems (z.B. Prozessanfragen, Datenzugriffe, …) sollte während die Workload läuft vorhersehbar sein.</p>
</blockquote>
<p><img src="assets/predictable.png" /></p>
</section>
<section id="wiederholbarkeit" class="level1">
<h1>Wiederholbarkeit</h1>
<blockquote>
<p>Wenn eine Workload mehrere male auf identische Weise ausgeführt wird, sollte die Ergebnis nahezu identisch ausführen. Ansonsten wird eine Performance-Analyse sehr schwer.</p>
</blockquote>
</section>
<section id="skalierbarkeit" class="level1">
<h1>Skalierbarkeit</h1>
<blockquote>
<p>Eine Workload solle mit unterschiedlichen Lasten ausgeführt werden können um die Skalierbarkeit der Anwendung testen zu können.</p>
</blockquote>
</section>
<section id="workload-design-steps" class="level1">
<h1>Workload Design Steps</h1>
<ul>
<li>Design der Applikation</li>
<li>Key-Szenarios identifizieren</li>
<li>Definieren der Metriken</li>
<li>Design der Load</li>
<li>Definieren der Skalierungsregeln</li>
<li>Design des Load-Generators</li>
<li>Festlegung einer Baseline</li>
</ul>
</section>
<section id="design-der-applikation" class="level1">
<h1>Design der Applikation</h1>
<ul>
<li><p>Definieren der Aktoren und Use-Cases → Hilft die Operationen der Workload zu definieren</p></li>
<li><p>Definieren der Operationen</p>
<ul>
<li>Im einfachsten Fall mappt jeder User-Case auf eine Operation</li>
<li>Für sinnvolle Workloads solle die Zahl der benötigen Operation klein gehalten werden (6-8) → Ansonsten schwer zu managen und verstehen</li>
</ul></li>
</ul>
</section>
<section id="key-szenarios-identifizieren" class="level1">
<h1>Key-Szenarios identifizieren</h1>
<ul>
<li>Messbares Szenario: Ein User-Szenario das Performance-getestet werden soll, sollte vollständig messbar sein</li>
<li>Meistbenutzte Szenarios</li>
<li>Business-kritische Szenarios</li>
<li>Ressourcen-intensive Szenarios</li>
<li>Zeitabhängig häufig genutzte Szenarios: z.B. Weihnachts-Liste auf Amazon</li>
<li>Stakeholder-relevante Szenarien</li>
</ul>
</section>
<section id="key-szenarios-identifizieren-1" class="level1">
<h1>Key-Szenarios identifizieren</h1>
<p>Beispiel für eine E-Commerce-Applikation:</p>
<ul>
<li>Browsen des Produktkatalogs</li>
<li>Benutzeraccount anlegen</li>
<li>Nach einem Produkt suchen</li>
<li>Login</li>
<li>Bestellung abschicken</li>
</ul>
<p>Navigationspfade der Key-Szenarios untersuchen</p>
<ul>
<li>Auf welche Arten kann ich z.B. eine Bestellung abschicken</li>
<li>Wie häufig wird welcher Weg genutzt? → Logfiles oder Analysetools (z.B Matomo)</li>
</ul>
</section>
<section id="definieren-der-metriken" class="level1">
<h1>Definieren der Metriken</h1>
<p>Typische Metriken sind:</p>
<ul>
<li><p><strong>Durchsatz:</strong> Wie viele Operation können vom SUT während einer gewissen Zeit verarbeitet werden</p></li>
<li><p><strong>Antwortzeiten:</strong> Zeit zwischen Ende der Anfrage und Beginn der Antwort an das SUT → Macht normalerweise nur Sinn wenn es auch Anforderungen für Antwortzeiten gibt</p></li>
<li><p><strong>Ressourcenverbrauch:</strong> z.B. alle Ressourcen (IO, Memory, …) sollten nicht mehr als 70% der max. Auslastung haben</p></li>
<li><p><strong>Anzahl maximaler Benutzer:</strong> Wie viele Benutzer können gleichzeitig ohne Probleme auf dem SUT arbeiten</p></li>
</ul>
</section>
<section id="design-der-load" class="level1">
<h1>Design der Load</h1>
<ul>
<li><p>der wichtigste Schritt im Workload Design!</p></li>
<li><p>die Relevanz der Workload hängt davon ab wie genau sie die die reale Produktionslast emuliert</p></li>
<li><p>gleichzeit wichtig: die Test-Workload solle sich auf die signifikanten Aspekte der Live-Load konzentrieren → Ansonsten wird es zu kompliziert</p></li>
</ul>
</section>
<section id="design-der-load-1" class="level1">
<h1>Design der Load</h1>
<ul>
<li><p><strong>Arrival Rates:</strong> Die Rate mit der Requests an das SUT gestellt werden</p></li>
<li><p><strong>Think Times:</strong> Zeit zwischen Anzeige der Daten beim Benutzer und seiner nächsten Interaktion → Bei großen Datenmenge steigt diese Zeit</p></li>
<li><p><strong>Browser Mix:</strong> Welche Browser sollen im Test verwendet werden? Chrome, Firefox, …</p></li>
<li><p><strong>Network Mix:</strong> Welche Netzwerkgeschwindigkeiten sollen im Test verwendet werden? z.B. 3G</p></li>
</ul>
</section>
<section id="design-der-load-2" class="level1">
<h1>Design der Load</h1>
<ul>
<li><strong>Operation Mix:</strong> Festlegung in welcher Frequenz welche Operation durchgeführt wird → oft prozentual je Operation was sich zu 100% summiert</li>
</ul>
</section>
<section id="design-der-load-3" class="level1">
<h1>Design der Load</h1>
<p><strong>Operation Mix:</strong></p>
<ul>
<li>Flat Mix:
<ul>
<li>Einfachste Möglichkeit</li>
<li>wird verwendet wenn Operation unabhängig sind und die gleiche Wahrscheinlichkeit haben</li>
<li>→ Der Mix wählt eine Operation zufällig</li>
</ul></li>
</ul>
</section>
<section id="design-der-load-4" class="level1">
<h1>Design der Load</h1>
<p><strong>Operation Mix:</strong></p>
<ul>
<li>Flat Sequence Mix:
<ul>
<li>Spezifiziert ein Set von Operations-Sequenzen</li>
<li>z.B. Set1=Op1,Op2 und Set2=Op1,Op3</li>
<li>jedem Set wird eine Wahrscheinlichkeit zugeordnet und dementsprechend ausgewählt</li>
</ul></li>
</ul>
</section>
<section id="design-der-load-5" class="level1">
<h1>Design der Load</h1>
<p><strong>Operation Mix:</strong></p>
<ul>
<li>Matrix Mix (Transition Mix):
<ul>
<li>Beschreibt die Übergangswahrscheinlichkeiten in einem Markov-Modell</li>
<li>wird häufig bei Web-Apps verwendet</li>
</ul></li>
</ul>
</section>
<section id="design-der-load-6" class="level1">
<h1>Design der Load</h1>
<p>Beispiel-Workload als Matrix-Mix:</p>
<table>
<thead>
<tr class="header">
<th>From</th>
<th>To Page 1</th>
<th>To Page 2</th>
<th>To Page 3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Page 1</td>
<td>0,00 %</td>
<td>80,00%</td>
<td>20,00%</td>
</tr>
<tr class="even">
<td>Page 2</td>
<td>20,00%</td>
<td>39,00%</td>
<td>41,00%</td>
</tr>
<tr class="odd">
<td>Page 3</td>
<td>60,00%</td>
<td>19,00%</td>
<td>21,00%</td>
</tr>
</tbody>
</table>
</section>
<section id="design-der-load-7" class="level1">
<h1>Design der Load</h1>
<ul>
<li><p>Abhängig von der Operation müssen für den Request diverse Input-Daten generiert werden</p></li>
<li><p>Um ein realistisches Szenario zu erhalten sollten die Daten variiert werden → Bei 100 Items sollten nicht immer fix 5 selektiert werden</p></li>
</ul>
</section>
<section id="design-der-load-8" class="level1">
<h1>Design der Load</h1>
<ul>
<li><p>Best-Practice: Eine klein Zahl an Fehlern durch invalide Daten einfügen um auch Probleme im Error-Handling aufzudecken</p></li>
<li><p>Genieren “echter” Daten kann bei großen Daten problematisch werden → Workload Entwickler müsste all Möglichen Values kennen</p>
<ul>
<li>Uniform Random: Generierung von gleichverteilten Zufallsdaten, z.B. für Anzahl gewählter Items</li>
<li>Non-Uniform Random: im Normalfall sind Datenzugriffe nicht gleichverteilt! → Datengenerierung sollte Wahrscheinlichkeit berücksichtigen</li>
</ul></li>
</ul>
</section>
<section id="definieren-der-skalierungsregeln" class="level1">
<h1>Definieren der Skalierungsregeln</h1>
<p>Häufig skaliert man durch Erhöhung der emulierten Benutzer.
Weitere Möglichkeiten sind:</p>
<p><strong>Linear Scaling</strong></p>
<ul>
<li>alles wird über einen einzigen Skalierungsfaktor skaliert</li>
<li>z.B. Workload führt Datenzugriffe eines Benutzers aus → Anzahl Benutzer &amp; Anzahl Datenzugriffe werden beide skaliert</li>
<li>Häufig nützlich für “Sizing”-Zwecke</li>
</ul>
<p><strong>Non-linear Scaling</strong></p>
<ul>
<li>Anwendungen skalieren oft nicht linear</li>
<li>z.B. Tagging durch Benutzer → mit steigender Anzahl steigt die Last je User mit an, z.B. bei der Anzeige der Tags</li>
</ul>
</section>
<section id="design-des-load-generators" class="level1">
<h1>Design des Load-Generators</h1>
<p>Der Load-Generator implementiert die Workload</p>
<p>Dabei sollte beachtet werden:</p>
<ul>
<li><p>Zum simulieren mehrerer Benutzer-Connections sollte <strong>kein</strong> connection-pooling verwendet werden</p></li>
<li><p>Jeder simulierte Nutzer sollte nach Möglichkeit seinen eigenen “Random number generator” (seeded mit unique value) verwenden um wirklich zufällige Daten zu bekommen</p></li>
</ul>
</section>
<section id="festlegung-einer-baseline" class="level1">
<h1>Festlegung einer Baseline</h1>
<blockquote>
<p>"A Baseline is the process of capturing performance metric data for the sole purpose of evaluating the efficacy of successive changes to the system or application. It is important that all characteristics and configurations, except those specifically being varied for comparison, remain the same in order to make effective comparisons as to which change (or series of changes) is driving results toward the targeted goal.</p>
</blockquote>
</section>
<section id="festlegung-einer-baseline-1" class="level1">
<h1>Festlegung einer Baseline</h1>
<blockquote>
<p>Armed with such baseline results, subsequent changes can be made to the system configuration or application and testing results can be compared to see whether such changes were relevant or not."</p>
</blockquote>
</section>
<section id="praxisbeispiel" class="level1">
<h1>Praxisbeispiel</h1>
<p>Nachdem die zeitliche Verteilung der Last mittels Load-Design ermittelt wurde, soll gezeigt werden wie so etwas in jMeter umgesetzt werden kann.</p>
<p><strong>Beispiel:</strong></p>
<ul>
<li>40% anonyme Benutzer browsen auf der Webseite</li>
<li>30% authentifizierte Benutzer browsen auf der Webseite</li>
<li>20% führen eine Suche durch</li>
<li>10% bearbeiten ihren Shopping-Cart</li>
</ul>
</section>
<section id="praxisbeispiel-1" class="level1">
<h1>Praxisbeispiel</h1>
<p>Wir müssen also dafür sorgen das die einzelnen Use-Case mit den entsprechende Wahrscheinlichkeiten nachgebildet werden. Hierfür gibt es u.a. folgende Möglichkeiten:</p>
<ul>
<li>Unterschiedliche Thread-Groups mit unterschiedlicher Anzahl an Threads</li>
<li>Throughput Controller</li>
<li>Switch Controller</li>
</ul>
</section>
<section id="praxisbeispiel-2" class="level1">
<h1>Praxisbeispiel</h1>
<p><strong>Variante 1:</strong> Unterschiedliche Thread-Groups mit unterschiedlicher Anzahl an Threads</p>
<ul>
<li>Thread Group mit 40 Benutzern</li>
<li>Thread Group mit 30 Benutzern</li>
<li>Thread Group mit 20 Benutzern</li>
<li>Thread Group mit 10 Benutzern</li>
</ul>
<p><strong>Wichtig:</strong> Checkbox “Run Thread Groups consecutively” sollte dem gewünschten Test-Flow entsprechen</p>
</section>
<section id="praxisbeispiel-3" class="level1">
<h1>Praxisbeispiel</h1>
<p><strong>Variante 2:</strong> Throughput Controller mit unterschiedlichen “Execution Percentages”</p>
<ul>
<li>Throughput Controller (Percent Execution, 40.0) → some sampler</li>
<li>Throughput Controller (Percent Execution, 30.0) → some sampler</li>
<li>Throughput Controller (Percent Execution, 20.0) → some sampler</li>
<li>Throughput Controller (Percent Execution, 10.0) → some sampler</li>
</ul>
</section>
<section id="praxisbeispiel-4" class="level1">
<h1>Praxisbeispiel</h1>
<p>Komplexeres Beispiel für Variante 2:</p>
<figure>
<img src="assets/throughput_controller.png" alt="" /><figcaption>https://www.blazemeter.com/blog/load-testing-for-your-black-friday</figcaption>
</figure>
</section>
<section id="praxisbeispiel-5" class="level1">
<h1>Praxisbeispiel</h1>
<p><strong>Variante 3:</strong> Switch Controller - Random Weighted Values</p>
<figure>
<img src="assets/switch_controller.png" alt="" /><figcaption>Erzeugt mit entsprechender Wahrscheinlichkeit Werte zwischen 0 und 3</figcaption>
</figure>
</section>
<section id="erkennen-der-last-grenzen-server-bedarfs" class="level1">
<h1>Erkennen der Last-Grenzen / Server-Bedarfs</h1>
<blockquote>
<p>Last-Grenzen können sehr gut mittels Stress-Testing ermittelt werden.</p>
</blockquote>
<p>Beispiel: Thread Group → HTTP Request → Response Assertion (Code 200) → View Results in Table</p>
</section>
<section id="erkennen-der-last-grenzen-server-bedarfs-1" class="level1">
<h1>Erkennen der Last-Grenzen / Server-Bedarfs</h1>
<p><img src="assets/stress-testing.png" /></p>
</section>
<section id="erkennen-der-last-grenzen-server-bedarfs-2" class="level1">
<h1>Erkennen der Last-Grenzen / Server-Bedarfs</h1>
<p>Es ist sinnvoll zu prüfen warum der Stress-Test ab einem gewissen Punkt fehlschlägt (z.B. Daten aus JMXMon, Logs der App, …):</p>
<ul>
<li>zu wenig Arbeitsspeicher?</li>
<li>IO zu langsam</li>
<li>Netzwerk zu langsam</li>
<li>Prozessor zu langsam</li>
<li>DB zu langsam</li>
<li>Load-Balancer überlastet?</li>
<li>Messaging-Queue als Bottleneck?</li>
</ul>
</section>
<section id="erkennen-der-last-grenzen-server-bedarfs-3" class="level1">
<h1>Erkennen der Last-Grenzen / Server-Bedarfs</h1>
<blockquote>
<p>Evtl. reicht es aus dem System etwas mehr Speicher zu geben oder eine kleine Code-Anpassung anstatt es verteilen zu müssen</p>
</blockquote>
</section>
<section id="elementestrukturierung-von-testplänen" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Elemente/Strukturierung von Testplänen</h1>
</section>
<section id="elementestrukturierung-von-testplänen-1" class="level1">
<h1>Elemente/Strukturierung von Testplänen</h1>
<ul>
<li>Thread Groups</li>
<li>Sampler</li>
<li>Controller</li>
<li>Timers</li>
<li>Assertions</li>
<li>Listener</li>
<li>Pre-/Post-Prozessoren</li>
<li>Configuration Elements</li>
<li>Cookie-Manager / Header-Manager</li>
<li>Variablen / Properties</li>
<li>Testfragmente &amp; Templates</li>
<li>Ausführungsreihenfolge</li>
</ul>
</section>
<section id="thread-groups" class="level1">
<h1>Thread Groups</h1>
<blockquote>
<p>A Thread Group in JMeter represents a pool of virtual users performing a set of operations</p>
</blockquote>
<p><img src="assets/2.Thread_Group_User.png" /></p>
</section>
<section id="thread-groups-1" class="level1">
<h1>Thread Groups</h1>
<p><img src="assets/threadGroup.webp" /></p>
<p>Wichtigste Einstellungen:</p>
<ul>
<li>Anzahl Threads</li>
<li>Anzahl der Wiederholungen</li>
<li>Ramp-Up-Zeit einstellen (wichtig z.B. für Spike-Testing bei Ticketverkauf!)</li>
</ul>
</section>
<section id="thread-groups-2" class="level1">
<h1>Thread Groups</h1>
<p><strong>Beispiel: Google-Suche</strong></p>
<ul>
<li><p>Ein Teil der Nutzer verwendet die Text-Suche, andere die News- oder Bilder-Suche</p></li>
<li><p>Hierfür kann man verschieden Thread-Gruppen mit unterschiedlichem Thread-Count anlegen</p></li>
<li><p>In diesen Thread-Gruppen werden diverse Sampler (z.B. Http-Requests) hinzugefügt um die Benutzer-Requests zu simulieren</p></li>
</ul>
</section>
<section id="thread-groups-3" class="level1">
<h1>Thread Groups</h1>
<table>
<colgroup>
<col style="width: 21%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="header">
<th>Thread Group</th>
<th>Use-Cases</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Classic</td>
<td>Einfache Szenarios, Stress/Soak Testing</td>
</tr>
<tr class="even">
<td>Arrivals</td>
<td>Soak Testing: App-Verhalten wenn alle n-Minuten x-User hinzukommen</td>
</tr>
<tr class="odd">
<td>Free Form Arrivals</td>
<td>Vergleichbar mit Arrival Thread Group</td>
</tr>
<tr class="even">
<td>Concurrency</td>
<td>Wie classic Threadgroup. Aber einfacher und weniger Speicherbedarf</td>
</tr>
</tbody>
</table>
</section>
<section id="thread-groups-4" class="level1">
<h1>Thread Groups</h1>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Use-Cases</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Stepping</td>
<td>Ältere Version der Threadgroup mit mehr Konfigurationsaufwand</td>
</tr>
<tr class="even">
<td>Ultimate</td>
<td>Komplexe Spike Testing Szenarios</td>
</tr>
<tr class="odd">
<td>setUp Thread Group</td>
<td>Vorbereiten der Testumgebung (z.B. VM/Container starten, DB befüllen)</td>
</tr>
<tr class="even">
<td>tearDown Thread Group</td>
<td>Aufräumen der Testumgebung</td>
</tr>
</tbody>
</table>
</section>
<section id="sampler" class="level1">
<h1>Sampler</h1>
<p><img src="assets/Samplers.webp" /></p>
<blockquote>
<p>Durch Threadgruppen werden Benutzer-Anfragen an den Server simuliert.
Sampler legen die Art des Requests fest!</p>
</blockquote>
</section>
<section id="sampler-1" class="level1">
<h1>Sampler</h1>
<ul>
<li>FTP Request</li>
<li>HTTP Request (can be used for SOAP or REST Webservice also)</li>
<li>JDBC Request</li>
<li>Java object request</li>
<li>JMS request</li>
<li>JUnit Test request</li>
<li>LDAP Request</li>
<li>Mail request</li>
<li>OS Process request</li>
<li>TCP request</li>
</ul>
</section>
<section id="sampler-2" class="level1">
<h1>Sampler</h1>
<ul>
<li><p>Falls man mehrere Requests des gleichen Typs versendet → Überlegen of <strong>Defaults Configuration Element</strong> nützlich sein könnte</p></li>
<li><p><strong>OS Process request:</strong> Häufig nützlich in setUp/tearDown-Szenarien</p></li>
<li><p>Sollte man auch bei den Plugins keinen passen Sampler finden → Es lassen sich auch eigene Sampler schreiben. Häufig findet sich auch auf Github etwas!</p></li>
</ul>
</section>
<section id="controller" class="level1">
<h1>Controller</h1>
<blockquote>
<p>Logische Controller legen fest wann/welche Sampler verwendet werden</p>
</blockquote>
<p><img src="assets/LogicControllerClassification.png" /></p>
</section>
<section id="controller-1" class="level1">
<h1>Controller</h1>
<blockquote>
<p>Ziel des <strong>Module Controllers</strong> ist es Modularität zu jMeter hinzuzufügen, z.B. bei Webapps (Login, Suche, …)</p>
</blockquote>
<p><img src="assets/ModuleControllerJMeter.png" /></p>
</section>
<section id="controller-2" class="level1">
<h1>Controller</h1>
<p>Beispiel: 100 Benutzer loggen sich ein, 30 Benutzer suchen auf google und 50 Benutzer loggen sich aus</p>
<figure>
<img src="assets/TestNewPlanJMeterController.png" alt="" /><figcaption>Simple Controller ist nur ein Container für Requests</figcaption>
</figure>
</section>
<section id="controller-3" class="level1">
<h1>Controller</h1>
<p>Der Module-Controller kontrolliert welches Modul laufen soll</p>
<p><img src="assets/RunLoginModuleJMeter.png" /></p>
</section>
<section id="controller-4" class="level1">
<h1>Controller</h1>
<p>Weitere wichtige Controller:</p>
<ul>
<li><strong>Interleave Controller:</strong> wählt Request und führt diesen einmal in jedem Loop des Threads durch</li>
<li><strong>Runtime Controller:</strong> kontrolliert wie lange seine Kinder laufen</li>
<li><strong>Transaction Controller:</strong> Stoppt Gesamtzeit des Testdurchführung, z.B. Dauer des Logins</li>
<li><strong>Include Controller:</strong> Nutzung externer Testpläne</li>
</ul>
</section>
<section id="timers" class="level1">
<h1>Timers</h1>
<blockquote>
<p>Durch Timer läßt sich in jMeter ein Delay zwischen den Sampler definieren</p>
</blockquote>
<ul>
<li><p>Ohne delay könnten zu viele Requests in kurzer Zeit den Server überlasten</p></li>
<li><p>Fügt man mehr als einen Timer zur Thread-Gruppe summiert jMeter die Timer-Zeit und pausiert so lange</p></li>
<li><p>Um Pause an einer bestimmten Stelle im Test Plan zu machen → Flow Control Action Sampler</p></li>
</ul>
</section>
<section id="assertions" class="level1">
<h1>Assertions</h1>
<blockquote>
<p>Über Assertions lässt sich prüfen ob sich die Applikation unter Last wie erwartet verhält</p>
</blockquote>
<ul>
<li><p><strong>Beispiel:</strong> Response enthält bestimmten Text?</p></li>
<li><p>Um Assertion-Ergebnisse anzuzeigen muss man einen entsprechenden Listener zur Thread-Gruppe hinzufügen</p></li>
</ul>
</section>
<section id="assertions-1" class="level1">
<h1>Assertions</h1>
<blockquote>
<p>Scope beachten!</p>
</blockquote>
<p><img src="assets/Screen%20Shot%202021-06-19%20at%209.06.28.png" /></p>
</section>
<section id="assertions-2" class="level1">
<h1>Assertions</h1>
<p><strong>Performance beachten!</strong></p>
<ul>
<li><p><strong>gering:</strong> Kann ohne Probleme genutzt werden</p></li>
<li><p><strong>moderat:</strong> Sparsam einsetzen, insbesondere bei größeren Serverantworten (100kbs bis mehrere MB)</p></li>
<li><p><strong>hoch:</strong> größtenteils nur für funktionales Testen oder leichte Last (&lt;10 concurrent Usern) passend</p></li>
</ul>
</section>
<section id="assertions-3" class="level1">
<h1>Assertions</h1>
<table>
<thead>
<tr class="header">
<th>Assertion</th>
<th>CPU/Memory</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Response Assertion</td>
<td>moderat</td>
</tr>
<tr class="even">
<td>Duration Assertion</td>
<td>gering</td>
</tr>
<tr class="odd">
<td>Size Assertion</td>
<td>gering</td>
</tr>
<tr class="even">
<td>XML Assertion</td>
<td>hoch</td>
</tr>
<tr class="odd">
<td>Beanshell Assertion</td>
<td>Variable</td>
</tr>
<tr class="even">
<td>MD5Hex Assertion</td>
<td>gering</td>
</tr>
</tbody>
</table>
</section>
<section id="assertions-4" class="level1">
<h1>Assertions</h1>
<table>
<thead>
<tr class="header">
<th>Assertion</th>
<th>CPU/Memory</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>HTML Assertion</td>
<td>hoch</td>
</tr>
<tr class="even">
<td>XPath Assertion</td>
<td>hoch</td>
</tr>
<tr class="odd">
<td>XML Schema Assertion</td>
<td>hoch</td>
</tr>
<tr class="even">
<td>JSR223 Assertion</td>
<td>Variable</td>
</tr>
<tr class="odd">
<td>Compare Assertion</td>
<td>hoch</td>
</tr>
<tr class="even">
<td>SMIME Assertion</td>
<td>moderat</td>
</tr>
<tr class="odd">
<td>Json Assertion</td>
<td>hoch</td>
</tr>
</tbody>
</table>
</section>
<section id="assertions-5" class="level1">
<h1>Assertions</h1>
<p>Beispiel: Eigene JSR223 Assertion um Durations zu prüfen</p>
<pre><code>def response_time = prev.getTime().toInteger();

def expected_response_time = 0;

if (response_time &gt; expected_response_time) {
  AssertionResult.setFailure(true);
  AssertionResult.setFailureMessage(&quot;The expected response time is : &quot; + expected_response_time + &quot;ms but it took: &quot; + response_time + &quot;ms&quot;);
}</code></pre>
</section>
<section id="listener" class="level1">
<h1>Listener</h1>
<p><img src="assets/Listners.webp" /></p>
<blockquote>
<p>Zeigen die Ergebnisse der Testdurchführung</p>
</blockquote>
</section>
<section id="listener-1" class="level1">
<h1>Listener</h1>
<figure>
<img src="assets/Jmeter-Listeners-3.png" alt="" /><figcaption>Arten von Listenern</figcaption>
</figure>
</section>
<section id="listener-2" class="level1">
<h1>Listener</h1>
<p>Sammeln Ergebnisse auf gleichem Level oder darunter</p>
<p>Listener können sehr Ressourcenintensiv sein!</p>
<ul>
<li>Nicht bei Load-/Stress-Tests verwendet werden sollten:
<ul>
<li>Assertion Results</li>
<li>View Results in Table</li>
<li>View Results Tree</li>
</ul></li>
</ul>
<p>Ergebnisse können auch in Files (csv, xml) zur Weiterverarbeitung weggeschrieben werden</p>
<ul>
<li>Default konfigurierbar in jmeter.properties bzw. user.properties</li>
<li>mehr Details siehe: <a href="https://jmeter.apache.org/usermanual/listeners.html">https://jmeter.apache.org/usermanual/listeners.html</a></li>
</ul>
</section>
<section id="listener-3" class="level1">
<h1>Listener</h1>
<p><strong>CLI-Modus:</strong> mit dem <em>-l Flag can ein Top-Level listener benutzt werden zusätzlich zu den im Testplan definierten Listenern</em></p>
<p><code>jmeter -n -t testplan.jmx -l testplan_01.jtl -j testplan_01.log</code></p>
<p>Generieren eines HTML-Reports aus .jtl-Dateien:</p>
<p><code>./bin/jmeter -g JTL_FILE -o OUTPUT_FOLDER</code></p>
</section>
<section id="listener-4" class="level1">
<h1>Listener</h1>
<figure>
<img src="assets/jmeter-html-report-summary.png" style="width:60.0%;height:60.0%" alt="" /><figcaption>Beispiel HTML-Dashboard</figcaption>
</figure>
</section>
<section id="listener-5" class="level1">
<h1>Listener</h1>
<p><strong>Real-Time-Results:</strong> seit jMeter 2.13 unterstützt jMeter Real-Time-Results, z.B. für Grafana.</p>
<p>Details: <a href="https://jmeter.apache.org/usermanual/realtime-results.html">https://jmeter.apache.org/usermanual/realtime-results.html</a></p>
<figure>
<img src="assets/grafana_dashboard.png" style="width:70.0%;height:70.0%" alt="" /><figcaption>Grafana-Beispielboard</figcaption>
</figure>
</section>
<section id="pre--und-post-prozessoren" class="level1">
<h1>Pre- und Post-Prozessoren</h1>
<p>Ist ein Pre-/Post-Prozessor direkt an einen Sampler angehängt wird er direkt vor/nach diesem Sampler ausgeführt</p>
<p><strong>Häufigste Use-Cases:</strong></p>
<ul>
<li><strong>Pre-Prozessor:</strong>
<ul>
<li>Settings eines Requests direkt bevor er läuft verändern</li>
<li>Variablen Updaten die nicht aus dem Response-Text extrahiert werden.</li>
</ul></li>
<li><strong>Post-Prozessor:</strong>
<ul>
<li>Verarbeiten der Response Daten, z.B extrahieren von Daten (Regex, Json, …)</li>
</ul></li>
</ul>
</section>
<section id="configuration-elements" class="level1">
<h1>Configuration Elements</h1>
<p><img src="assets/ConfigurationElements.webp" /></p>
</section>
<section id="configuration-elements-1" class="level1">
<h1>Configuration Elements</h1>
<p><strong>Können keine Requests senden, diese aber verändern.</strong></p>
<p><strong>Beispiel:</strong> Setzen von Defaults und Variablen für Nutzung in Samplern</p>
<ul>
<li><p>Zugriff nur innerhalb des Zweiges in dem das Element hinzugefügt wurde</p></li>
<li><p>Settings werden normalerweise gemerged, wobei Elemente tiefer im Baum Vorrang haben.</p>
<ul>
<li><strong>Ausnahme:</strong> <em>User Defined Variables</em> werden unabhängig von der Position zu Beginn des Test verarbeitet</li>
<li><strong>Empfehlung:</strong> <em>User Defined Variables</em> sollten am Start der Thread-Gruppe positioniert werden</li>
</ul></li>
</ul>
</section>
<section id="configuration-elements-2" class="level1">
<h1>Configuration Elements</h1>
<p>Header Manager, Cookie Manager und Authorization Manager stellen einen weiteren Sonderfall dar:</p>
<ul>
<li><p>Setting werden nicht gemerged</p></li>
<li><p>Gibt es mehr als einen Manager im Scope wird nur einer verwendet. Es lässt sich allerdings nicht festlegen welcher!</p></li>
</ul>
</section>
<section id="configuration-elements-3" class="level1">
<h1>Configuration Elements</h1>
<ul>
<li><p><strong>Cache-Manager:</strong> Falls man Last-Tests mit Cache durchführen möchte, z.B. für Web-Apps</p></li>
<li><p><strong>Cookie-Manager:</strong> Falls man Anwendung mit Cookies testen möchten, z.B. Auth bei Web-Apps</p></li>
<li><p><strong>Header-Manager:</strong> Kann HTTP Request-Header überschreiben, z.B. Authorization-Header für JWTs bei Web-Apps</p></li>
</ul>
</section>
<section id="properties-variablen" class="level1">
<h1>Properties / Variablen</h1>
<p><strong>Properties:</strong></p>
<ul>
<li><p>sind global in jMeter</p></li>
<li><p>wird meistens für jMeter Default-Werte genutzt → Beispiel: remote_hosts</p></li>
<li><p><a href="https://jmeter.apache.org/usermanual/functions.html#__property">können in Testplänen referenziert werden</a></p></li>
<li><p>setProperty kann genutzt werden um eine jMeter-Property zu definieren → Da diese Global sind können hierdurch bei Bedarf Informationen zwischen den Threads ausgetauscht werden!</p></li>
</ul>
</section>
<section id="properties-variablen-1" class="level1">
<h1>Properties / Variablen</h1>
<p><strong>Variablen:</strong></p>
<ul>
<li><p>lokal für jeden Thread</p></li>
<li><p>Wird eine Variable in einem Thread upgedated wird nur die Thread-Kopie der Variable verändert!</p></li>
<li><p>Durch den Testplan definierte Variablen und “User Defined Variables” werden zum Start innerhalb des Testplans verfügbar gemacht</p></li>
<li><p>Bei mehrfach-Definition gewinnt die letzte Definition!</p></li>
<li><p>Nützlich um Tests zu parametrisieren → Identifikation von Werten die innerhalb eines Test-Runs konstant bleiben!</p></li>
</ul>
</section>
<section id="configuration-elements-4" class="level1">
<h1>Configuration Elements</h1>
<p>Beispiel für Parametrisierung:</p>
<table>
<thead>
<tr class="header">
<th>Variable</th>
<th>Wert</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>HOST</td>
<td>www.example.com</td>
</tr>
<tr class="even">
<td>THREADS</td>
<td>10</td>
</tr>
<tr class="odd">
<td>LOOPS</td>
<td>20</td>
</tr>
</tbody>
</table>
<p>wird zu…</p>
</section>
<section id="configuration-elements-5" class="level1">
<h1>Configuration Elements</h1>
<table>
<thead>
<tr class="header">
<th>Variable</th>
<th>Wert</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>HOST</td>
<td>${__P(host,www.example.com)}</td>
</tr>
<tr class="even">
<td>THREADS</td>
<td>${__P(threads,10)}</td>
</tr>
<tr class="odd">
<td>LOOPS</td>
<td>${__P(loops,20)}</td>
</tr>
</tbody>
</table>
<p>Aufruf: <code>jmeter … -Jhost=www3.example.org -Jloops=13</code> (Alternativ: entsprechende user.properties setzen)</p>
<p>Zugriff innerhalb des Testplans auf die Werte: ${HOST}, ${THREADS}, ${LOOPS}</p>
</section>
<section id="testfragment" class="level1">
<h1>Testfragment</h1>
<blockquote>
<p>Testfragmente sind eine spezielle Art von Controller auf Ebene des Thread Group Elements. Man unterscheidet zwischen <em>Test Fragment Nodes</em> und <em>Test Fragment Files</em>. <em>Test Fragment Nodes</em> lassen sich nicht in <em>Test Fragment_Files</em> inkludieren!</p>
</blockquote>
</section>
<section id="testfragment-1" class="level1">
<h1>Testfragment</h1>
<ul>
<li><p>wird nicht ausgeführt solange es nicht in einem Modul-Controller oder Include-Controller referenziert wird.
→ Ermöglicht gleichzeitiges Arbeiten an Modulen in separaten Files</p></li>
<li><p>Dient der Code-Wiederverwendung innerhalb von Testplänen und hilft sehr große Testpläne wartbar zu machen</p></li>
<li><p>Details: <a href="https://www.blazemeter.com/blog/how-manage-large-jmeter-scripts-jmeter-test-fragments">https://www.blazemeter.com/blog/how-manage-large-jmeter-scripts-jmeter-test-fragments</a></p></li>
</ul>
</section>
<section id="testfragment-2" class="level1">
<h1>Testfragment</h1>
<table>
<thead>
<tr class="header">
<th>Funktionalitäten einer Beispielapp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Login</td>
</tr>
<tr class="even">
<td>Logout</td>
</tr>
<tr class="odd">
<td>User Registration</td>
</tr>
<tr class="even">
<td>Search for Product</td>
</tr>
<tr class="odd">
<td>Select Product</td>
</tr>
<tr class="even">
<td>Order Product with different payment methods</td>
</tr>
<tr class="odd">
<td>Edit Order</td>
</tr>
<tr class="even">
<td>Cancel Order</td>
</tr>
<tr class="odd">
<td>Search for User Profile</td>
</tr>
</tbody>
</table>
</section>
<section id="testfragment-3" class="level1">
<h1>Testfragment</h1>
<blockquote>
<p>Hilft unterschiedliche Workflows zu unterstützen</p>
</blockquote>
<ul>
<li><strong>Workflow 1:</strong> User Registration -&gt; Search for Product -&gt; Select Product -&gt; Order Product -&gt; Logout</li>
<li><strong>Workflow 2:</strong> Login -&gt; Search for Product -&gt; Select Product -&gt; Order Product -&gt; Logout</li>
<li><strong>Workflow 3:</strong> Login -&gt; Search for User -&gt; Cancel Order -&gt; Logout</li>
<li><strong>Workflow 4:</strong> Login -&gt; Search for Product</li>
</ul>
</section>
<section id="testfragment-4" class="level1">
<h1>Testfragment</h1>
<figure>
<img src="assets/include-controller.png" alt="" /><figcaption>Workflow 4</figcaption>
</figure>
</section>
<section id="templates" class="level1">
<h1>Templates</h1>
<p><strong>Wiederverwendbare Test-Vorlagen zum Projekt-Start</strong></p>
<p>z.B. Github-Template für Wordpress: <a href="https://github.com/jmeter-templates/wordpress">https://github.com/jmeter-templates/wordpress</a></p>
<p>Erzeugung eines Templates:</p>
<ul>
<li><p>.jmx-File in /templates abspeichern</p></li>
<li><p>Template.xml öffnen und Daten für eigenes Template ergänzen</p></li>
<li><p>Nach jMeter-Neustart kann Template ausgewählt werden</p></li>
</ul>
</section>
<section id="ausführungsreihenfolge" class="level1">
<h1>Ausführungsreihenfolge</h1>
<ul>
<li>Configuration Elements</li>
<li>Pre-Processors</li>
<li>Timers</li>
<li>Sampler</li>
<li>Post-Processors</li>
<li>Assertions</li>
<li>Listeners</li>
</ul>
</section>
<section id="ausführungsreihenfolge-1" class="level1">
<h1>Ausführungsreihenfolge</h1>
<ul>
<li>Timers, Assertions, Pre-/Post-Processors werden nur ausgeführt, wenn es einen Sampler gibt auf den sie sich beziehen können!</li>
<li>Logic-Controller und Sampler werden in der Reihenfolge in der sie im Baum stehen ausgeführt</li>
<li>Andere Testelemente werden entsprechend ihres Scopes ausgeführt</li>
</ul>
</section>
<section id="ausführungsreihenfolge-2" class="level1">
<h1>Ausführungsreihenfolge</h1>
<p><strong>Beispiel-Testplan:</strong></p>
<ul>
<li>Controller
<ul>
<li>Post-Processor 1</li>
<li>Sampler 1</li>
<li>Sampler 2</li>
<li>Timer 1</li>
<li>Assertion 1</li>
<li>Pre-Processor 1</li>
<li>Timer 2</li>
<li>Post-Processor 2</li>
</ul></li>
</ul>
</section>
<section id="ausführungsreihenfolge-3" class="level1">
<h1>Ausführungsreihenfolge</h1>
<p><strong>Ausführungsreihenfolge:</strong></p>
<p>Pre-Processor 1 →
Timer 1 →
Timer 2 →
Sampler 1 →
Post-Processor 1 →
Post-Processor 2 →
Assertion 1</p>
<p>Pre-Processor 1 →
Timer 1 →
Timer 2 →
Sampler 2 →
Post-Processor 1 →
Post-Processor 2 →
Assertion 1</p>
</section>
<section id="scripting" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Scripting</h1>
</section>
<section id="beanshell" class="level1">
<h1>BeanShell</h1>
<ul>
<li><p>Eine der fortgeschrittensten Komponenten in JMeter</p></li>
<li><p>Hilfreich für sehr ungewöhnliche Testfälle die ansonsten schwer in jMeter umzusetzen wären</p></li>
<li><p>Hat Zugriff auf interne JMeter-APIs und jede externe Klasse die in den jMeter Classpath geladen wird</p>
<ul>
<li>jars nach /lib/ext kopieren</li>
<li>jars müssen am Anfang des BeanShell-Script importiert werden</li>
</ul></li>
</ul>
</section>
<section id="beanshell-1" class="level1">
<h1>BeanShell</h1>
<p><strong>Beispiel Use-Cases:</strong></p>
<ul>
<li><p><strong>jMeter-Variablen verändern:</strong> var.put(“counter”, “false”);</p></li>
<li><p><strong>jMeter-Variable in Property umwandeln:</strong> props.put(“some_variable”, var.get(“some_variable”));</p></li>
<li><p><strong>Cookies zwischen Thread-Groups übergeben:</strong> siehe <a href="https://www.blazemeter.com/blog/how-use-beanshell-jmeters-favorite-built-component">https://www.blazemeter.com/blog/how-use-beanshell-jmeters-favorite-built-component</a></p></li>
<li><p>Testfall im Fehlerfall stoppen</p></li>
<li><p>komplexe Assertions</p></li>
</ul>
</section>
<section id="beanshell-2" class="level1">
<h1>BeanShell</h1>
<p><strong>Vordefinierte Variablen:</strong></p>
<ul>
<li><strong>SampleResult:</strong> Felder/Methoden von <a href="https://jmeter.apache.org/api/org/apache/jmeter/samplers/SampleResult.html">Sample-Result</a> verfügbar</li>
<li><strong>ResponseCode:</strong> Setzt Sampler Response z.B.: ResponseCode = “200”;</li>
<li><strong>ResponseMessage</strong></li>
<li><strong>IsSuccess:</strong> Falls <em>true</em> wird der Sampler als <em>passed</em> betrachtet</li>
<li><strong>Label:</strong> String der in the Test Ergebnisse aufgelistet wird</li>
<li><strong>FileName</strong></li>
<li><strong>ctx:</strong> gibt Zugriff JMeterContext, Sampler, Ergebnisse</li>
<li><strong>vars:</strong> gibt Zugriff auf jMeter Variablen</li>
<li><strong>props:</strong> gibt Zugriff auf jMeter Properties</li>
<li><strong>log:</strong> schreiben in jmeter.log, z.B. log.info(“Test”);</li>
</ul>
</section>
<section id="beanshell-3" class="level1">
<h1>BeanShell</h1>
<p>Ist die BeanShell Tot? → <a href="https://www.blazemeter.com/blog/is-beanshell-dead">https://www.blazemeter.com/blog/is-beanshell-dead</a></p>
<ul>
<li><p>langsamer und mehr Speicherverbrauch als JSR223+Groovy</p></li>
<li><p>Seit JMeter 3.1 ist Groovy die Default Scripting-Sprache für JSR223 Sampler</p></li>
<li><p>JMeter Contributor Philippe Mouawad: “avoid Beanshell in favor of JSR223 + Groovy because Beanshell is old, slow…”</p></li>
</ul>
</section>
<section id="beanshell-4" class="level1">
<h1>BeanShell</h1>
<p><img src="assets/beanshellgroovy3.png" /></p>
</section>
<section id="jsr223" class="level1">
<h1>JSR223</h1>
<ul>
<li><p>zwar etwas langsamer als der <em>Java Request Sampler</em>, allerdings entfällt: recompile → zum Classpath hinzufügen → jMeter Neustart</p></li>
<li><p>Einige <strong>nützliche JSR223-Beispiele</strong> gibt es unter: <a href="https://octoperf.com/blog/2017/11/09/reusable-sample-jmeter-scripts/#log-a-message">https://octoperf.com/blog/2017/11/09/reusable-sample-jmeter-scripts/#log-a-message</a></p></li>
<li><p><strong>Nützliche jMeter-Funktionen</strong> sind hier zu finden: <a href="https://www.flood.io/blog/jmeter-tutorial-how-to-use-jmeter-functions">https://www.flood.io/blog/jmeter-tutorial-how-to-use-jmeter-functions</a></p></li>
</ul>
</section>
<section id="regex-extractor" class="level1">
<h1>RegEx-Extractor</h1>
<p><img src="assets/regex-extractor.png" /></p>
</section>
<section id="arbeiten-mit-jars" class="level1">
<h1>Arbeiten mit JARs</h1>
<p><strong>Use-Cases für Jars:</strong></p>
<ul>
<li><p>Wir haben 20 Tests mit dem selben Code-Stück. Bei Änderungen müssten sonst alle 20 Tests angepasst werden.</p>
<ul>
<li>→ besser den Code als jar bereitstellen (jmeter/lib bzw. jmeter/lib/ext) und dann im JSR223-Sampler verwenden</li>
</ul></li>
<li><p>Benutzung externe Bibliotheken (z.B. <a href="https://www.blazemeter.com/blog/how-to-implement-data-driven-testing-in-your-jmeter-test">Apache POI</a>)</p></li>
</ul>
</section>
<section id="arbeiten-mit-jars-1" class="level1">
<h1>Arbeiten mit JARs</h1>
<ul>
<li><p>Jars liegen normalerweise im Ordner <em>jmeter/lib</em> oder <em>jmeter/lib/ext</em></p></li>
<li><p>In <em>user.properties</em> können folgende Pfade gesetzt werden:</p>
<ul>
<li>search_paths</li>
<li>user.classpath</li>
<li>plugin_dependency_paths</li>
</ul></li>
</ul>
</section>
<section id="reporting" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Reporting</h1>
</section>
<section id="arten-von-reporting" class="level1">
<h1>Arten von Reporting</h1>
<ul>
<li><p>Reports innerhalb der jMeter-GUI, z.B. View Results Tree</p></li>
<li><p>JTL-Files: sind am mächtigsten um JMeter-Ergebnisse zu analysieren</p></li>
<li><p>HTML-Report</p></li>
<li><p>real-time Reports mittels Backend Listener, z.B. Grafana, ELK, Taurus, DB, JMS-Bus…</p></li>
</ul>
</section>
<section id="arten-von-reporting-1" class="level1">
<h1>Arten von Reporting</h1>
<table>
<colgroup>
<col style="width: 27%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="header">
<th>Pros JTL</th>
<th>Cons JTL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>plain csv leicht zu lesen</td>
<td>Jeder Load-Generator schreibt seine eigenen JTLs → Bei Distributed Testing müssen diese zum Controller zurückgespielt werden</td>
</tr>
<tr class="even">
<td>einiges Web-Tools können JTL-Reports erzeugen</td>
<td>Können sehr groß werden (mehrere GB)</td>
</tr>
<tr class="odd">
<td>Alle Ergebnisse werden bei JTL-Files gespeichert</td>
<td>JTL muss Data-Mined werden um sinnvolle Metriken zu erhalten</td>
</tr>
</tbody>
</table>
</section>
<section id="arten-von-reporting-2" class="level1">
<h1>Arten von Reporting</h1>
<p><strong>Generierung von Bildern aus JTL-Files mittels:</strong> <a href="https://jmeter-plugins.org/wiki/JMeterPluginsCMD/">JMeterPluginsCMD Command Line Tool</a></p>
<p>Es existieren diverse Tools zur Anzeige von JTL-Reports:</p>
<ul>
<li><p><strong>JTL-Reporter:</strong> https://github.com/ludeknovy/jtl-reporter</p></li>
<li><p><strong>JMeter-Logstash:</strong> https://github.com/anasoid/jmeter-logstash</p></li>
</ul>
</section>
<section id="arten-von-reporting-3" class="level1">
<h1>Arten von Reporting</h1>
<p>Erzeugen eines HTML-Reports:</p>
<p><code>jmeter -g &lt;outputfile.jtl/csv&gt; -o &lt;path to output folder for html report&gt;</code></p>
<p>bzw.</p>
<p><code>jmeter -n -t &lt;test JMX file&gt; -l &lt;outputfile.jtl/csv&gt; -e -o &lt;Path to output folder&gt;</code></p>
<p>In der jMeter-UI auch möglich: Tools → Generate HTMl report</p>
</section>
<section id="ergebnis-analyse" class="level1">
<h1>Ergebnis-Analyse</h1>
<p>Bevorzuge <a href="https://en.wikipedia.org/wiki/Percentile">Perzentile</a> gegenüber Durchschnitten:</p>
<ul>
<li>Durchschnitte verstecken Ausreißer</li>
<li>Geben keine Information über die Verteilung der Daten</li>
</ul>
<p>Beispiel mit jeweils gleichem Durchschnitt:</p>
<p><img src="assets/B15339_12_15.jpg" />
<img src="assets/B15339_12_16.jpg" /></p>
</section>
<section id="ergebnis-analyse-1" class="level1">
<h1>Ergebnis-Analyse</h1>
<p>Sei vorsichtig mit den Antwortzeiten zu Beginn eines Tests:</p>
<ul>
<li>Caches werden noch gefüllt</li>
<li>JIT warm up</li>
<li>Autoscaling-Mechanismus wird evtl. noch initialisiert</li>
</ul>
<p>→ Applikation sollte warm up vor dem Test machen, außer man möchte das Verhalten nach einem restart testen</p>
<p><img src="assets/B15339_12_21.jpg" style="width:50.0%;height:50.0%" /></p>
</section>
<section id="ergebnis-analyse-2" class="level1">
<h1>Ergebnis-Analyse</h1>
<p>Schaue die Verteilung der Response-Zeiten an. Ein performante Applikation wird ungefähr wie eine <a href="https://en.wikipedia.org/wiki/Half-normal_distribution">Halb-Normal-Verteilung</a> aussehen.</p>
<p><img src="assets/B15339_12_22.jpg" alt="gute Performance" />
<img src="assets/B15339_12_23.jpg" alt="schlecht Performance" /></p>
</section>
<section id="ergebnis-analyse-3" class="level1">
<h1>Ergebnis-Analyse</h1>
<p>Sehr gute Zusammenfassung: <a href="https://octoperf.com/blog/2017/10/19/how-to-analyze-jmeter-results/#interpreting-jmeter-metrics">https://octoperf.com/blog/2017/10/19/how-to-analyze-jmeter-results/#interpreting-jmeter-metrics</a></p>
</section>
<section id="testdatenverwaltung" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Testdatenverwaltung</h1>
</section>
<section id="testdaten-in-.json-datei-.csv-datei" class="level1">
<h1>Testdaten in .json-Datei / .csv-Datei</h1>
<ul>
<li><p>Testdaten werden aus .csv gelesen → Tipp: mit dem Random CSV Data Set plugin können die Daten in zufälliger Reihenfolge gelesen werden</p></li>
<li><p>Testdata-Partitioning: <a href="https://guides.flood.io/scripting-and-tools/test-data">https://guides.flood.io/scripting-and-tools/test-data</a></p></li>
<li><p>Alternativ können auch ander Formate implementiert werden, z.B. Excel: <a href="https://www.blazemeter.com/blog/how-to-implement-data-driven-testing-in-your-jmeter-test">https://www.blazemeter.com/blog/how-to-implement-data-driven-testing-in-your-jmeter-test</a></p></li>
</ul>
</section>
<section id="jmeter-funktionen-zur-datengenerierung" class="level1">
<h1>jMeter-Funktionen zur Datengenerierung</h1>
<ul>
<li><p><strong>JSR223:</strong> z.B. Aufruf einer Library wie <a href="https://ngneat.github.io/falso/">https://ngneat.github.io/falso/</a></p></li>
<li><p><strong>BSF-PreProcessor:</strong> <a href="https://blog.mayflower.de/566-Pseudodynamic-data-generation-in-JMeter.html">https://blog.mayflower.de/566-Pseudodynamic-data-generation-in-JMeter.html</a></p></li>
<li><p><strong>Random Testdata:</strong> <a href="https://www.logic2020.com/insight/tactical/generate-random-test-data-run-time-jmeter">https://www.logic2020.com/insight/tactical/generate-random-test-data-run-time-jmeter</a></p></li>
</ul>
</section>
<section id="rest-apis" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">REST-APIs</h1>
</section>
<section id="nutzung-des-test-rekorders" class="level1">
<h1>Nutzung des Test-Rekorders</h1>
<ul>
<li>Test Plan → Add → Non-Test Elements → HTTP(S) Test Script Recorder</li>
<li>Einstellungen → Port festlegen</li>
<li>Thread Group → Add → Logic Controllers → Recording Controller</li>
<li>Im Browser Proxy auf gleichen Port wie Skript-Rekorder stellen</li>
<li>Zertifikat (jMeter/bin/ApacheJMeterTemporaryRootCA.crt) im Browser importieren
<ul>
<li><strong>Firefox:</strong> options → search for ‘certificate’ → view certificates</li>
<li>Haken bei “Trust Website” setzen</li>
</ul></li>
<li>Test aufzeichnen</li>
</ul>
</section>
<section id="umgang-mit-sessionsauthentification" class="level1">
<h1>Umgang mit Sessions/Authentification</h1>
<ul>
<li>JWT-Token erhalten
<ul>
<li><strong>Bei Cookies:</strong> in <strong>jmeter.properties</strong> folgendes setzen: <strong>CookieManager.save.cookies=true</strong> → macht Cookies als Variablen verfügbar</li>
<li><strong>Bei Localstorage:</strong> jMeter-Integration mit Selenium nutzen</li>
<li>JWT mittels Regex aus Login-Response extrahieren</li>
</ul></li>
<li>setzen des Authorization-Headers mittels <strong>HTTP Header Manager</strong>: z.B. auf ${COOKIE_Authorization}</li>
</ul>
</section>
<section id="umgang-mit-sessionsauthentification-1" class="level1">
<h1>Umgang mit Sessions/Authentification</h1>
<figure>
<img src="assets/cookie-session.png" alt="" /><figcaption>HTTP Header Manager-Beispiel</figcaption>
</figure>
</section>
<section id="umgang-mit-dynamischen-daten" class="level1">
<h1>Umgang mit dynamischen Daten</h1>
<p>Beispiel: Benutzer wird angelegt → Benutzerprofil aufrufen</p>
<p>Die URL des Benutzerprofils könnte die Benutzer-ID in der URL enthalten, welch erst nach dem anlegen des Benutzer bekannt ist</p>
<p>Lösung:</p>
<ul>
<li>Benutzer anlegen</li>
<li>Benutzer-ID aus Response in eine Variable extrahieren (z.B. mittels Regular Expression Extractor)</li>
<li>Verwenden der Variable (z.B. ${benutzerId}) im HTTP-Request zum Aufruf des Benutzerprofils</li>
</ul>
</section>
<section id="verteiltes-testen-mit-jmeter" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Verteiltes Testen mit jMeter</h1>
</section>
<section id="master-slave-setup" class="level1">
<h1>Master-Slave-Setup</h1>
<p><img src="assets/ImpactQA-JMeter-Distributed-Testing-Approach.jpg" /></p>
</section>
<section id="master-slave-setup-1" class="level1">
<h1>Master-Slave-Setup</h1>
<p><strong>Voraussetzungen:</strong></p>
<ul>
<li><p>Bei 192.x.x.x und 10.x.x.x Adressen: Alle Server sollten sich im gleichen Subnetz befinden</p></li>
<li><p>Firewall blockiert nichts</p></li>
<li><p>Master und Slaves sollten folgendes gemeinsam haben:</p>
<ul>
<li>gleiche Java-Version</li>
<li>gleiche jMeter-Version</li>
</ul></li>
<li><p>Master/Slaves können als Computer/VMs/Container bereitgestellt werden</p></li>
</ul>
</section>
<section id="master-slave-setup-2" class="level1">
<h1>Master-Slave-Setup</h1>
<p><strong>Slave-Konfiguration:</strong></p>
<ul>
<li>editiere <strong>jmeter/bin/jmeter-server</strong> auf jedem Slave
<ul>
<li>setze IP der Maschine in <em>RMI_HOST_DEF</em></li>
<li>setzte RMI-Port direkt darunter: <em>${DIRNAME}/jmeter <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="34.436ex" height="2.843ex" style="vertical-align: -1.005ex;" viewBox="0 -791.3 14826.4 1223.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg">
<defs>
<path stroke-width="1" id="E1-MJMATHI-52" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path>
<path stroke-width="1" id="E1-MJMATHI-4D" d="M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z"></path>
<path stroke-width="1" id="E1-MJMATHI-49" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path>
<path stroke-width="1" id="E1-MJMATHI-48" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path>
<path stroke-width="1" id="E1-MJMATHI-4F" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path>
<path stroke-width="1" id="E1-MJMATHI-53" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path>
<path stroke-width="1" id="E1-MJMATHI-54" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path>
<path stroke-width="1" id="E1-MJMATHI-44" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path>
<path stroke-width="1" id="E1-MJMATHI-45" d="M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z"></path>
<path stroke-width="1" id="E1-MJMATHI-46" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path>
<path stroke-width="1" id="E1-MJMAIN-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path>
<path stroke-width="1" id="E1-MJMATHI-73" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path>
<path stroke-width="1" id="E1-MJMATHI-65" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path>
<path stroke-width="1" id="E1-MJMATHI-72" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path>
<path stroke-width="1" id="E1-MJMATHI-76" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path>
<path stroke-width="1" id="E1-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path>
<path stroke-width="1" id="E1-MJMATHI-6F" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path>
<path stroke-width="1" id="E1-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path>
<path stroke-width="1" id="E1-MJMAIN-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path>
</defs>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)">
 <use xlink:href="#E1-MJMATHI-52" x="0" y="0"></use>
 <use xlink:href="#E1-MJMATHI-4D" x="759" y="0"></use>
<g transform="translate(1811,0)">
 <use xlink:href="#E1-MJMATHI-49" x="0" y="0"></use>
 <use transform="scale(0.707)" xlink:href="#E1-MJMATHI-48" x="622" y="-213"></use>
</g>
 <use xlink:href="#E1-MJMATHI-4F" x="2979" y="0"></use>
 <use xlink:href="#E1-MJMATHI-53" x="3743" y="0"></use>
<g transform="translate(4388,0)">
 <use xlink:href="#E1-MJMATHI-54" x="0" y="0"></use>
 <use transform="scale(0.707)" xlink:href="#E1-MJMATHI-44" x="826" y="-213"></use>
</g>
 <use xlink:href="#E1-MJMATHI-45" x="5659" y="0"></use>
 <use xlink:href="#E1-MJMATHI-46" x="6423" y="0"></use>
 <use xlink:href="#E1-MJMAIN-2212" x="7395" y="0"></use>
 <use xlink:href="#E1-MJMATHI-44" x="8396" y="0"></use>
 <use xlink:href="#E1-MJMATHI-73" x="9224" y="0"></use>
 <use xlink:href="#E1-MJMATHI-65" x="9694" y="0"></use>
 <use xlink:href="#E1-MJMATHI-72" x="10160" y="0"></use>
 <use xlink:href="#E1-MJMATHI-76" x="10612" y="0"></use>
 <use xlink:href="#E1-MJMATHI-65" x="11097" y="0"></use>
<g transform="translate(11564,0)">
 <use xlink:href="#E1-MJMATHI-72" x="0" y="0"></use>
 <use transform="scale(0.707)" xlink:href="#E1-MJMATHI-70" x="638" y="-213"></use>
</g>
 <use xlink:href="#E1-MJMATHI-6F" x="12471" y="0"></use>
 <use xlink:href="#E1-MJMATHI-72" x="12957" y="0"></use>
 <use xlink:href="#E1-MJMATHI-74" x="13408" y="0"></use>
 <use xlink:href="#E1-MJMAIN-3D" x="14047" y="0"></use>
</g>
</svg>{SERVER_PORT:-2010} -s -j jmeter-server.log “$@”</em></li>
</ul></li>
</ul>
<figure>
<img src="rmi-slave-example.jpg" alt="" /><figcaption>RMI-Slave: Beispiel jmeter-server-File</figcaption>
</figure>
<ul>
<li>starte jMeter-Server auf jedem Slave: <strong>jmeter/bin/jmeter-server.bat</strong></li>
</ul>
</section>
<section id="master-slave-setup-3" class="level1">
<h1>Master-Slave-Setup</h1>
<p><strong>Master-Konfiguration:</strong></p>
<ul>
<li><p>editiere <strong>jmeter/bin/jmeter.properties</strong> auf dem Master</p>
<ul>
<li>füge alle IPs der Slave-Systeme Komma-separiert unter <em>remote_hosts</em> hinzu</li>
<li>setze <em>server_port</em></li>
</ul></li>
</ul>
</section>
<section id="master-slave-setup-4" class="level1">
<h1>Master-Slave-Setup</h1>
<p><strong>Starten der Tests auf dem Master:</strong></p>
<p><strong>via GUI:</strong></p>
<p><code>jmeter</code></p>
<p><strong>non-GUI:</strong></p>
<ul>
<li><p><code>jmeter -n -t script.jmx -r</code></p></li>
<li><p><code>jmeter -n -t script.jmx -R server1,server2,...</code></p></li>
</ul>
<p>Überprüfung ob all Slave-Systeme korrekt arbeiten: jmeter.log ansehen</p>
</section>
<section id="master-slave-setup-5" class="level1">
<h1>Master-Slave-Setup</h1>
<p><strong>Limitierungen:</strong></p>
<ul>
<li><p>RMI kann über Subnetze hinaus nicht ohne Proxy kommunizieren. Daher gilt das gleiche auch für jMeter.</p></li>
<li><p>jMeter sendet alle Test-Ergebnisse zur kontrollierenden Konsole</p>
<ul>
<li>Netzwerk kann schnell überlastet werden</li>
<li>→ Am besten den “Simple data writer” verwenden und die Files erst später ansehen</li>
</ul></li>
<li><p>Ein jMeter-Client auf einer 2-3Ghz CPU kann ca. 300-600 Threads verarbeiten</p></li>
<li><p>XML ist im Vergleich zu Binär-Protokollen um den Faktor 4-10 langsamer!</p></li>
</ul>
</section>
<section id="master-slave-setup-6" class="level1">
<h1>Master-Slave-Setup</h1>
<ul>
<li>Jedes Slave-System führt die im Master definierten Dinge aus
<ul>
<li>wollen wir für 10000 Nutzer testen und haben 10 Slaves → Im Testplan muss für 1000Nutzer geplant werden, damit wir am Ende auf insgesamt 10000 kommen!</li>
</ul></li>
<li>Über den if-Controller lassen sich auf den einzelnen Slaves unterschiedliche Dinge ausführen</li>
</ul>
</section>
<section id="testausführung-über-cli" class="level1">
<h1>Testausführung über CLI</h1>
</section>
<section id="demo-testdata-partitioning" class="level1">
<h1>Demo: Testdata-Partitioning</h1>
</section>
<section id="large-scale" class="level1">
<h1>Large-Scale</h1>
<p>Zu beachten bei verteilten Large-Scale-Lösungen: <a href="https://octoperf.com/blog/2017/10/12/optimize-jmeter-for-large-scale-tests/">https://octoperf.com/blog/2017/10/12/optimize-jmeter-for-large-scale-tests/</a></p>
<ul>
<li><p>von Kommandozeile starten → UI verbraucht viel Memory</p></li>
<li><p>Vermeide UI listener (z.B. Graphen, Tabellen) → in ein JTL-File schreiben (z.B. mittels Simple data writer)</p></li>
<li><p>Genug Heap-Space bereitstellen, z.B. JVM_ARGS=“-Xms1g -Xmx8g” jmeter.sh</p></li>
<li><p>Vermeide mehr als 1000 Benutzer/Maschine zu simulieren</p></li>
</ul>
</section>
<section id="large-scale-1" class="level1">
<h1>Large-Scale</h1>
<ul>
<li><p>lieber mehr Durchschnittshardware (z.B. 4core, 16GB) als einige wenige Superrechner (z.B. 16core, 128GB)</p></li>
<li><p>Vermeide Beanshell-Skripte</p></li>
<li><p>Verwende .csv-JTLs anstelle von XML</p></li>
<li><p>Distributed Mode funktioniert gut mit 20-30 (mit Glück 40-50) Maschinen, da die RMI-Kommunikation von jMeter nicht sehr effizient ist</p>
<ul>
<li>Darüber hinaus lieber jede JMeter-Instanz einzeln starten</li>
<li>das JMX vor dem Test-Start hin senden</li>
<li>nach dem Test das JTL-File holen</li>
</ul></li>
</ul>
</section>
<section id="rmi" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">RMI</h1>
</section>
<section id="rmi-1" class="level1">
<h1>RMI</h1>
</section>
<section id="diskussion-aktueller-verwendeter-rmi-sampler" class="level1">
<h1>Diskussion: aktueller verwendeter RMI-Sampler</h1>
</section>
<section id="vergleich-mit-existierende-rmi-samplern-auf-github" class="level1">
<h1>Vergleich mit existierende RMI-Samplern auf Github</h1>
</section>
<section id="monitoring" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Monitoring</h1>
</section>
<section id="prometheus-grafana" class="level1">
<h1>Prometheus / Grafana</h1>
</section>
<section id="yourkit-profiler" class="level1">
<h1>YourKit-Profiler</h1>
</section>
<section id="containerisierung" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Containerisierung</h1>
</section>
<section id="iac-infrastructure-as-a-code" class="level1">
<h1>IaC: Infrastructure as a Code</h1>
<blockquote>
<p>Mit IaC (Infrastructure as Code) wird die Infrastruktur durch Code – und nicht durch manuelle Prozesse – verwaltet und provisioniert.</p>
</blockquote>
<blockquote>
<p>Mit IaC werden Konfigurationsdateien erstellt, die Ihre gesamten Infrastrukturspezifikationen enthalten, wodurch Sie Konfigurationen einfacher bearbeiten und verteilen können.
Es stellt außerdem sicher, dass Sie jedes Mal dieselbe Umgebung provisionieren.</p>
</blockquote>
<blockquote>
<p>Ein wichtiger Bestandteil von IaC ist die Versionskontrolle. Wie jede andere Software-Quellcodedatei sollten auch Ihre Konfigurationsdateien der Quellkontrolle unterliegen.</p>
</blockquote>
</section>
<section id="vagrant-ansible" class="level1">
<h1>Vagrant + Ansible</h1>
<p>Ansible Playbook: <a href="https://galaxy.ansible.com/lean_delivery/jmeter">https://galaxy.ansible.com/lean_delivery/jmeter</a></p>
</section>
<section id="docker-docker-compose" class="level1">
<h1>Docker / Docker-Compose</h1>
</section>
<section id="kubernetes" class="level1">
<h1>Kubernetes</h1>
</section>
<section id="cicd-pipeline" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">CI/CD-Pipeline</h1>
</section>
<section id="github-actions" class="level1">
<h1>Github Actions</h1>
<p>https://github.com/marketplace/actions/setup-jmeter
https://github.com/marketplace/actions/apache-jmeter
https://github.com/marketplace/actions/perfaction-for-jmeter
https://www.redline13.com/blog/2021/10/github-actions-for-jmeter/
https://dev.to/sebiboga/generate-jmeter-test-report-and-save-it-as-artifact-with-github-actions-4a6b
https://stackoverflow.com/questions/68084554/fail-github-actions-pipeline-if-dockerized-jmeter-tests-failed</p>
</section>
<section id="jmeter-in-einer-github-actions-pipeline" class="level1">
<h1>jMeter in einer Github-Actions Pipeline</h1>
</section>
<section id="jmeter-in-einer-jenkins-pipeline" class="level1">
<h1>JMeter in einer Jenkins-Pipeline</h1>
</section>
<section id="klärung-offener-punkt" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Klärung offener Punkt</h1>
<pre><code></code></pre>
</section>

        </div>
    </div>

    <script src="assets/3rdparty/jquery.js"></script>

    <script type="module">
        import Reveal from "./assets/framework/reveal.js/dist/reveal.esm.js";
        import Markdown from "./assets/framework/reveal.js/plugin/markdown/markdown.esm.js";
        import Notes from "./assets/framework/reveal.js/plugin/notes/notes.esm.js";

        let deck = new Reveal();
        window.Reveal = deck;

        deck.initialize({
            width: 1280,
            height: 740,
            margin: 0.1,
            minScale: 0.2,
            maxScale: 2.5,
            controls: '',
            controlsTutorial: 'false',
            controlsLayout: 'bottom-right',
            controlsBackArrows: 'faded',
            progress: 'true',
            defaultTiming: (Number(120) >= 0) ? Number(120) : 120,
            slideNumber: 'false',
            history: 'true',
            keyboard: 'true',
            overview: 'true',
            center: 'true',
            touch: 'true',
            loop: '',
            rtl: '',
            shuffle: '',
            fragments: 'true',
            embedded: 'false',
            help: 'true',
            showNotes: '',
            autoPlayMedia: '',

            autoSlide: (window.pdf_render) ? 0 : Number(0),

            autoSlideStoppable: 'true',
            autoSlideMethod: 'Reveal.navigateNext',
            mouseWheel: 'false',
            hideAddressBar: 'true',
            previewLinks: 'false',
            transition: 'slide',
            transitionSpeed: 'default',
            backgroundTransition: 'fade',
            viewDistance: (Number(3) >= 0) ? Number(3) : 3,

            parallaxBackgroundImage: '',
            parallaxBackgroundSize: '',
            parallaxBackgroundHorizontal: (null != null && Number(null) >= 0) ? Number(null) : null,
            parallaxBackgroundVertical: (null != null && Number(null) >= 0) ? Number(null) : null,

            theme: '',

            plugins: [ Markdown, Notes ]
        });

        function calc_offset_left() {
            return jQuery(".slides").offset().left / deck.getScale();
        }

        function flushleft(selector) {
            function deoffset() {
                // console.log("flushleft");
                var rel_offset_left = calc_offset_left();
                jQuery(selector).each(function(i, e){
                    jQuery(this).css({"margin-left": "-" + rel_offset_left + "px"});
                });
            }
            deoffset();
            if (window.pdf_render) {
                setTimeout(deoffset, 50);
            } else {
                jQuery(window).on("resize", deoffset);
            }
        }

        function centerleft(selector) {
            function deoffset() {
                // console.log("centerleft");
                var rel_offset_left = calc_offset_left() / 2;
                jQuery(selector).each(function(i, e){
                    jQuery(this).css({"margin-left": "-" + rel_offset_left + "px"});
                });
            }
            deoffset();
            if (window.pdf_render) {
                setTimeout(deoffset, 50);
            } else {
                jQuery(window).on("resize", deoffset);
            }
        }

        jQuery(".flushleft").children(".flushleft").removeClass("flushleft");
        flushleft(".slides section.flushleft");
    </script>

    <script src='assets/markdeck/highlight.js'></script>
    <script src='assets/markdeck/highlightjs-line-numbers.min.js'></script>
    <script>
        window.hljs = hljs;
        hljs.initHighlightingOnLoad();
        hljs.initLineNumbersOnLoad();
    </script>

    
    <script>
        jQuery("pre.render_mermaid").each(function(i, old) {
            var p = jQuery('<p>' + jQuery(old).children("code").text() + '</p>');
            var attributes = jQuery(old).prop("attributes");
            jQuery.each(attributes, function() {
                p.attr(this.name, this.value);
            });
            p.addClass("mermaid");
            old.replaceWith(p[0]);
        });
    </script>
    <script src="assets/3rdparty/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true, theme:'forest'});</script>

    <script>
        // add notes class to make sure controls are always displayed on the
        // speaker notes
        if (window.self !== window.top) {
            document.body.className += " notes";
        }

        document.body.className += " mytheme";
    </script>


</body>
</html>
